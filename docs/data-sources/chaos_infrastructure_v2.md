---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_chaos_infrastructure_v2 Data Source - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Data source for retrieving a Harness Chaos Infrastructure V2.
---

# harness_chaos_infrastructure_v2 (Data Source)

Data source for retrieving a Harness Chaos Infrastructure V2.

## Example Usage

```terraform
// Data source to fetch a specific agent by name
data "harness_service_discovery_agent" "by_name" {
  name                   = "example-agent"
  org_identifier         = var.org_identifier
  project_identifier     = var.project_identifier
  environment_identifier = var.environment_identifier
}

output "agent_details_by_name" {
  value = data.harness_service_discovery_agent.by_name
}

// Data source to fetch a specific agent by identity
data "harness_service_discovery_agent" "by_identity" {
  identity               = "example-infra"
  org_identifier         = var.org_identifier
  project_identifier     = var.project_identifier
  environment_identifier = var.environment_identifier
}

output "agent_details_by_identity" {
  value = data.harness_service_discovery_agent.by_identity
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String) The ID of the environment.
- `infra_id` (String) The ID of the infrastructure.
- `org_id` (String) The ID of the organization.
- `project_id` (String) The ID of the project.

### Optional

- `image_registry` (Block List) Configuration for the container image registry. (see [below for nested schema](#nestedblock--image_registry))
- `mtls` (Block List, Max: 1) mTLS configuration for the infrastructure. (see [below for nested schema](#nestedblock--mtls))
- `proxy` (Block List, Max: 1) Proxy configuration for the infrastructure. (see [below for nested schema](#nestedblock--proxy))
- `tolerations` (Block List) If specified, the pod's tolerations. (see [below for nested schema](#nestedblock--tolerations))
- `volume_mounts` (Block List) Volume mounts for the container. (see [below for nested schema](#nestedblock--volume_mounts))
- `volumes` (Block List) Volumes to be created in the infrastructure. (see [below for nested schema](#nestedblock--volumes))

### Read-Only

- `annotation` (Map of String)
- `containers` (String) List of containers in the infrastructure.
- `created_at` (String) Created at of the infrastructure.
- `created_by` (String) Created by of the infrastructure.
- `description` (String) Description of the infrastructure.
- `id` (String) The ID of this resource.
- `identifier` (String) Identifier of the infrastructure.
- `identity` (String) Identity of the infrastructure.
- `infra_scope` (String) Scope of the infrastructure.
- `infra_type` (String) Type of the infrastructure.
- `insecure_skip_verify` (Boolean)
- `is_ai_enabled` (Boolean)
- `is_chaos_enabled` (Boolean)
- `label` (Map of String)
- `last_heartbeat` (Number) Last heartbeat of the infrastructure.
- `last_workflow_timestamp` (String) Last workflow timestamp of the infrastructure.
- `name` (String) Name of the infrastructure.
- `namespace` (String) Kubernetes namespace for the infrastructure.
- `no_of_schedules` (Number) Number of schedules for the infrastructure.
- `no_of_workflows` (Number) Number of workflows for the infrastructure.
- `node_selector` (Map of String)
- `run_as_group` (Number)
- `run_as_user` (Number)
- `service_account` (String) Service account used by the infrastructure.
- `status` (String) Status of the infrastructure.
- `tags` (List of String) Tags of the infrastructure.
- `update_status` (String) Update status of the infrastructure.
- `updated_at` (String) Updated at of the infrastructure.
- `updated_by` (String) Updated by of the infrastructure.

<a id="nestedblock--image_registry"></a>
### Nested Schema for `image_registry`

Optional:

- `custom_images` (Block List) Custom image configurations. Required when use_custom_images is true. (see [below for nested schema](#nestedblock--image_registry--custom_images))
- `is_default` (Boolean) Whether this is the default registry.
- `is_override_allowed` (Boolean) Whether override is allowed for this registry.
- `is_private` (Boolean) Whether the registry is private.
- `registry_account` (String) The account name for the container registry.
- `registry_server` (String) The container image registry server URL (e.g., docker.io, gcr.io).
- `secret_name` (String) Name of the Kubernetes secret containing registry credentials.
- `use_custom_images` (Boolean) Whether to use custom images instead of default ones.

Read-Only:

- `created_at` (String) Timestamp when the registry was created.
- `identifier` (List of Object) Scoped identifiers for the registry. (see [below for nested schema](#nestedatt--image_registry--identifier))
- `infra_id` (String) ID of the infrastructure.
- `updated_at` (String) Timestamp when the registry was last updated.

<a id="nestedblock--image_registry--custom_images"></a>
### Nested Schema for `image_registry.custom_images`

Optional:

- `ddcr` (String) Custom image for ddcr.
- `ddcr_fault` (String) Custom image for ddcr-fault.
- `ddcr_lib` (String) Custom image for ddcr-lib.
- `log_watcher` (String) Custom image for log-watcher.


<a id="nestedatt--image_registry--identifier"></a>
### Nested Schema for `image_registry.identifier`

Read-Only:

- `account_identifier` (String)
- `org_identifier` (String)
- `project_identifier` (String)



<a id="nestedblock--mtls"></a>
### Nested Schema for `mtls`

Optional:

- `cert_path` (String) Path to the certificate file for mTLS
- `key_path` (String) Path to the private key file for mTLS
- `secret_name` (String) Name of the Kubernetes secret containing mTLS certificates
- `url` (String) URL for the mTLS endpoint


<a id="nestedblock--proxy"></a>
### Nested Schema for `proxy`

Required:

- `url` (String) Proxy URL.

Optional:

- `http_proxy` (String) HTTP proxy URL.
- `https_proxy` (String) HTTPS proxy URL.
- `no_proxy` (String) List of hosts that should not use proxy.


<a id="nestedblock--tolerations"></a>
### Nested Schema for `tolerations`

Required:

- `effect` (String) Effect indicates the taint effect to match. When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
- `key` (String) Key is the taint key that the toleration applies to. Empty means match all taint keys. If the key is empty, operator must be Exists.
- `operator` (String) Operator represents a key's relationship to the value. Valid operators are Exists and Equal. Defaults to Equal.

Optional:

- `toleration_seconds` (Number) TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.
- `value` (String) Value is the taint value the toleration matches to. If the operator is Exists, the value should be empty, otherwise just a regular string.


<a id="nestedblock--volume_mounts"></a>
### Nested Schema for `volume_mounts`

Required:

- `mount_path` (String) Path within the container at which the volume should be mounted. Must not contain ':'.
- `name` (String) This must match the Name of a Volume.

Optional:

- `mount_propagation` (String) Determines how mounts are propagated from the host to container and the other way around. When not set, MountPropagationNone is used.
- `read_only` (Boolean) Mounted read-only if true, read-write otherwise.
- `sub_path` (String) Path within the volume from which the container's volume should be mounted. Mutually exclusive with sub_path_expr.
- `sub_path_expr` (String) Expanded path within the volume from which the container's volume should be mounted. Behaves similarly to sub_path but environment variable references $(VAR_NAME) are expanded using the container's environment. Mutually exclusive with sub_path.


<a id="nestedblock--volumes"></a>
### Nested Schema for `volumes`

Required:

- `name` (String) Name of the volume. Must be a DNS_LABEL and unique within the pod.

Optional:

- `size_limit` (String) Size limit of the volume. Example: '10Gi', '100Mi'
