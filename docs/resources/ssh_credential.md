---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_ssh_credential Resource - terraform-provider-harness"
subcategory: ""
description: |-
  Resource for creating an encrypted text secret
---

# harness_ssh_credential (Resource)

Resource for creating an encrypted text secret

## Example Usage

```terraform
resource "tls_private_key" "harness_deploy_key" {
  algorithm = "RSA"
  rsa_bits  = 4096
}

data "harness_secret_manager" "secret_manager" {
  default = true
}

resource "harness_encrypted_text" "my_secret" {
  name              = "my_secret"
  value             = tls_private_key.harness_deploy_key.private_key_pem
  secret_manager_id = data.harness_secret_manager.secret_manager.id
}

resource "harness_ssh_credential" "ssh_creds" {
  name = "ssh-test"

  ssh_authentication {
    port     = 22
    username = "git"
    inline_ssh {
      ssh_key_file_id = harness_encrypted_text.my_secret.id
    }
  }

  // This is a workaround until https://harness.atlassian.net/browse/PL-17967 is resolved
  // The graphql API currently doesn't return all the fields in the query.
  lifecycle {
    ignore_changes = ["ssh_authentication"]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String) Name of the encrypted text secret

### Optional

- **kerberos_authentication** (Block List, Max: 1) Kerberos authentication for SSH. Cannot be used if ssh_authentication is specified (see [below for nested schema](#nestedblock--kerberos_authentication))
- **ssh_authentication** (Block List, Max: 1) Authentication method for SSH. Cannot be used if kerberos_authentication is specified. Only one of `inline_ssh`, `server_password`, or `ssh_key_file` should be set (see [below for nested schema](#nestedblock--ssh_authentication))
- **usage_scope** (Block Set) Usage scopes (see [below for nested schema](#nestedblock--usage_scope))

### Read-Only

- **id** (String) Id of the encrypted text secret

<a id="nestedblock--kerberos_authentication"></a>
### Nested Schema for `kerberos_authentication`

Required:

- **port** (Number) Port to use for Kerberos authentication
- **principal** (String) Name of the principal for authentication
- **realm** (String) Realm associated with the Kerberos authentication

Optional:

- **tgt_generation_method** (Block List, Max: 1) TGT generation method (see [below for nested schema](#nestedblock--kerberos_authentication--tgt_generation_method))

<a id="nestedblock--kerberos_authentication--tgt_generation_method"></a>
### Nested Schema for `kerberos_authentication.tgt_generation_method`

Optional:

- **kerberos_password_id** (String) The id of the encrypted text secret
- **key_tab_file_path** (String) The path to the key tab file



<a id="nestedblock--ssh_authentication"></a>
### Nested Schema for `ssh_authentication`

Required:

- **port** (Number) The port to connect to
- **username** (String) The username to use when connecting to ssh

Optional:

- **inline_ssh** (Block List, Max: 1) Inline SSH authentication configuration. Only ond of `passphrase_secret_id` or `ssh_key_file_id` should be used (see [below for nested schema](#nestedblock--ssh_authentication--inline_ssh))
- **server_password** (Block List, Max: 1) Server password authentication configuration (see [below for nested schema](#nestedblock--ssh_authentication--server_password))
- **ssh_key_file** (Block List, Max: 1) Use ssh key file for authentication (see [below for nested schema](#nestedblock--ssh_authentication--ssh_key_file))

<a id="nestedblock--ssh_authentication--inline_ssh"></a>
### Nested Schema for `ssh_authentication.inline_ssh`

Required:

- **ssh_key_file_id** (String) The id of the secret containing the SSH key

Optional:

- **passphrase_secret_id** (String) The id of the encrypted secret to use


<a id="nestedblock--ssh_authentication--server_password"></a>
### Nested Schema for `ssh_authentication.server_password`

Required:

- **password_secret_id** (String) The id of the encrypted secret


<a id="nestedblock--ssh_authentication--ssh_key_file"></a>
### Nested Schema for `ssh_authentication.ssh_key_file`

Required:

- **path** (String) The path to the key file on the delegate

Optional:

- **passphrase_secret_id** (String) The id of the secret containing the password to use for the ssh key



<a id="nestedblock--usage_scope"></a>
### Nested Schema for `usage_scope`

Optional:

- **application_filter_type** (String) Type of application filter applied. ALL if not application id supplied, otherwise NULL
- **application_id** (String) Id of the application scoping
- **environment_filter_type** (String) Type of environment filter applied. ALL if not filter applied
- **environment_id** (String) Id of the environment scoping

## Import

Import is supported using the following syntax:

```shell
# Import using the Harness ssh credential id
terraform import harness_ssh_credential.example <credential_id>
```
