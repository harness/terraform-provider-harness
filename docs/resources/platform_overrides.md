---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_platform_overrides Resource - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Resource for creating a Harness Override V2.
---

# harness_platform_overrides (Resource)

Resource for creating a Harness Override V2.

## Example Usage

```terraform
resource "harness_platform_overrides" "test" {
  org_id     = "orgIdentifier"
  project_id = "projectIdentifier"
  env_id     = "environmentIdentifier"
  service_id = "serviceIdentifier"
  infra_id   = "infraIdentifier"
  type       = "INFRA_SERVICE_OVERRIDE"
  yaml       = <<-EOT
overrides:
  variables:
    - name: var1
      type: String
      value: val1
  configFiles:
    - configFile:
        identifier: sampleConfigFile
        spec:
          store:
            type: Harness
            spec:
              files:
                - account:/configFile1
  manifests:
    - manifest:
        identifier: sampleManifestFile
        type: Values
        spec:
          store:
            type: Harness
            spec:
              files:
                - account:/manifestFile1
  EOT
}
```

### Creating Remote Override
```terraform

   resource "harness_platform_overrides" "test" {
          org_id     = "orgIdentifier"
          project_id = "projectIdentifier"
          env_id     = "environmentIdentifier"
          service_id = "serviceIdentifier"
          infra_id = "infraIdentifier"
          type       = "INFRA_SERVICE_OVERRIDE"
          git_details {
            store_type = "REMOTE"
            connector_ref = "connector_ref"
            repo_name = "repo_name"
            file_path = "file_path"
            branch = "branch"
            }
          yaml = <<-EOT
overrides:
  variables:
    - name: v1
      type: String
      value: val1
  manifests:
    - manifest:
        identifier: manifest1
        type: Values
        spec:
          store:
            type: Github
            spec:
              connectorRef: "<+input>"
              gitFetchType: Branch
              paths:
                - path-updated
              repoName: "<+input>"
              branch: master
          skipResourceVersioning: false
                            EOT
}
```

### Importing Override From Git
```terraform
  resource "harness_platform_overrides" "test" {
          org_id     = "orgIdentifier"
          project_id = "projectIdentifier"
          env_id     = "environmentIdentifier"
          service_id = "serviceIdentifier"
          infra_id = "infraIdentifier"
          type       = "INFRA_SERVICE_OVERRIDE"
          import_from_git = "true"
          git_details {
            store_type = "REMOTE"
            connector_ref = "connector_ref"
            repo_name = "repo_name"
            file_path = "file_path"
            branch = "branch"
            }
            
}

```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `env_id` (String) The environment ID to which the override entity is associated.
- `type` (String) The type of the overrides. There can be four types of overrides - 
  -  "ENV_GLOBAL_OVERRIDE" : Applies to an environment globally irrespective of the service used with it. We do not need to provide service_id for this type of override.  
  -  "ENV_SERVICE_OVERRIDE" : Applies to a specific environment & service combination. We need to provide both service_id & env_id for this type of override.
  -  "INFRA_GLOBAL_OVERRIDE" : Applies to an infrastructure globally irrespective of the service used with it. We do not need to provide service_id for this type of override. However, we need to provide the env_id as an infrastructure is always associated with an environment. 
  -  "INFRA_SERVICE_OVERRIDE" : Applies to a specific infrastructure & service combination. We need to provide all three i.e. service_id, infra_id & env_id (to which the infrastructure is associated) for this type of override.

### Optional

- `infra_id` (String) The infrastructure ID to which the override entity is associated.
- `org_id` (String) Unique identifier of the organization.
- `project_id` (String) Unique identifier of the project.
- `service_id` (String) The service ID to which the override entity is associated.
- `yaml` (String) The yaml of the overrides spec object. This yaml will contain the details regarding the variables, config files, manifests, etc. which we want to override. The required yaml format is given in the example above. 
- `git_details` (Block List, Max: 1) Contains Git Information for remote entities from Git for Create/Update/Import (see [below for nested schema](#nestedblock--git_details))
- `import_from_git` (Boolean) Flag to set if importing from Git
- `is_force_import` (Boolean) Flag to set if force importing from Git
- `identifier` (String) The identifier of the override entity.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--git_details"></a>
### Nested Schema for `git_details`

Optional:

- `branch_name` (String) Name of the branch.
- `connector_ref` (String) Identifier of the Harness Connector used for importing entity from Git To reference a connector at the organization scope, prefix 'org' to the expression: org.{identifier}. To reference a connector at the account scope, prefix 'account` to the expression: account.{identifier}.
- `file_path` (String) File path of the Entity in the repository.
- `repo_name` (String) Name of the repository. It should be same as the repo name of corresponding service or Environment.
    For svc-env override it should be same as svc repo 
    For svc-infra override it should be same as svc repo 
    For env override it should be same as env repo 
    For env-infra override it should be same as env repo 
- `store_type` (String) store type of the entity.
- `last_object_id` (String) Last object identifier (for Github). To be provided only when updating Override.
- `last_commit_id` (String) Last commit identifier (for Git Repositories other than Github). To be provided only when updating Override.
- `is_harness_code_repo` (Boolean) If the repo is in harness code.
- `commit_message` (String) message for the commit in Git Repo.


## Import

Import is supported using the following syntax:

```shell
# Import account level override
terraform import harness_platform_overrides.example <override_id>

# Import org level override
terraform import harness_platform_overrides.example <org_id>/<override_id>

# Import project level override
terraform import harness_platform_overrides.example <org_id>/<project_id>/<override_id>
```
