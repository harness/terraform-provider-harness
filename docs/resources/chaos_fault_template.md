---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_chaos_fault_template Resource - terraform-provider-harness"
subcategory: ""
description: |-
  Resource for managing Harness Chaos Fault Templates. Phase 1: Core fields (identity, name, description, tags, category, infrastructure, basic spec)
---

# harness_chaos_fault_template (Resource)

Resource for managing Harness Chaos Fault Templates. Phase 1: Core fields (identity, name, description, tags, category, infrastructure, basic spec)

## Example Usage

```terraform
# ============================================================================
# Harness Chaos Fault Template Resource Examples
# ============================================================================
#
# Fault templates define reusable chaos faults for experiments.
# These examples are based on TESTED configurations from the e2e-test suite.
#
# Key Points:
# - Faults inject failures into systems (pod delete, network latency, etc.)
# - Type is usually "Custom" for custom faults
# - Category and infrastructures define where fault can run
# ============================================================================

# ----------------------------------------------------------------------------
# Example 1: Basic Kubernetes Fault (TESTED ✅)
# ----------------------------------------------------------------------------
# Most common pattern: Custom Kubernetes fault with container spec

resource "harness_chaos_fault_template" "kubernetes_fault" {
  depends_on = [harness_chaos_hub_v2.project_level]

  # Project level
  org_id       = harness_platform_organization.this.id
  project_id   = harness_platform_project.this.id
  hub_identity = harness_chaos_hub_v2.project_level.identity

  identity             = "k8s-fault-template"
  name                 = "Kubernetes Fault Template"
  description          = "Custom Kubernetes fault for chaos injection"
  category             = ["Kubernetes"]
  infrastructures      = ["KubernetesV2"]
  type                 = "Custom"
  permissions_required = "Basic"
  tags                 = ["kubernetes", "fault", "custom"]

  links {
    name = "Documentation"
    url  = "https://docs.harness.io/chaos"
  }

  spec {
    chaos {
      fault_name = "byoc-injector"

      params {
        name  = "CHAOS_DURATION"
        value = "30s"
      }
      
      params {
        name  = "CHAOS_INTERVAL"
        value = "5s"
      }

      kubernetes {
        image             = "chaosnative/go-runner:ci"
        command           = ["/bin/bash", "-c"]
        args              = ["echo 'Running chaos fault'; sleep 30"]
        image_pull_policy = "IfNotPresent"

        resources {
          limits = {
            cpu    = "150m"
            memory = "150Mi"
          }
          
          requests = {
            cpu    = "100m"
            memory = "100Mi"
          }
        }
      }
    }
  }
}

# ----------------------------------------------------------------------------
# Example 2: Fault with Environment Variables (TESTED ✅)
# ----------------------------------------------------------------------------
# Fault with environment variables for configuration

resource "harness_chaos_fault_template" "fault_with_env" {
  depends_on = [harness_chaos_hub_v2.project_level]

  org_id       = harness_platform_organization.this.id
  project_id   = harness_platform_project.this.id
  hub_identity = harness_chaos_hub_v2.project_level.identity

  identity             = "fault-with-env-template"
  name                 = "Fault with Environment Variables"
  description          = "Fault template with environment configuration"
  category             = ["Kubernetes"]
  infrastructures      = ["KubernetesV2"]
  type                 = "Custom"
  permissions_required = "Basic"
  tags                 = ["kubernetes", "env", "config"]

  links {
    name = "Documentation"
    url  = "https://docs.harness.io/chaos"
  }

  spec {
    chaos {
      fault_name = "byoc-injector"

      params {
        name  = "CHAOS_DURATION"
        value = "15s"
      }
      
      params {
        name  = "CHAOS_INTERVAL"
        value = "3s"
      }
      
      params {
        name  = "TARGET_NAMESPACE"
        value = "<+input>.default('default')"
      }

      kubernetes {
        image             = "chaosnative/go-runner:ci"
        command           = ["/bin/bash", "-c"]
        args              = ["echo 'Fault with env vars'; sleep 15"]
        image_pull_policy = "IfNotPresent"

        env {
          name  = "TARGET_NAMESPACE"
          value = "<+input>.default('default')"
        }
        
        env {
          name  = "CHAOS_MODE"
          value = "pod"
        }

        resources {
          limits = {
            cpu    = "200m"
            memory = "200Mi"
          }
        }
      }
    }
  }

  # Variables
  variables {
    name        = "target_namespace"
    value       = "<+input>"
    type        = "string"
    required    = false
    description = "Target namespace for chaos injection"
  }
}

# ----------------------------------------------------------------------------
# Example 3: Fault with Advanced Configuration (TESTED ✅)
# ----------------------------------------------------------------------------
# Fault with node selector, labels, and annotations

resource "harness_chaos_fault_template" "advanced_fault" {
  depends_on = [harness_chaos_hub_v2.project_level]

  org_id       = harness_platform_organization.this.id
  project_id   = harness_platform_project.this.id
  hub_identity = harness_chaos_hub_v2.project_level.identity

  identity             = "advanced-fault-template"
  name                 = "Advanced Fault Template"
  description          = "Fault with advanced Kubernetes configuration"
  category             = ["Kubernetes"]
  infrastructures      = ["KubernetesV2"]
  type                 = "Custom"
  permissions_required = "Basic"
  tags                 = ["kubernetes", "advanced", "production"]

  links {
    name = "Documentation"
    url  = "https://docs.harness.io/chaos"
  }
  
  links {
    name = "Support"
    url  = "https://support.harness.io"
  }

  spec {
    chaos {
      fault_name = "byoc-injector"

      params {
        name  = "CHAOS_DURATION"
        value = "<+input>.default('30s')"
      }
      
      params {
        name  = "CHAOS_INTERVAL"
        value = "<+input>.default('5s')"
      }

      kubernetes {
        image             = "chaosnative/go-runner:ci"
        command           = ["/bin/bash", "-c"]
        args              = ["echo 'Advanced chaos fault'; sleep 30"]
        image_pull_policy = "IfNotPresent"
        
        node_selector = {
          disktype = "ssd"
          zone     = "us-west-1a"
        }
        
        labels = {
          app         = "chaos-fault"
          environment = "production"
          managed-by  = "terraform"
        }
        
        annotations = {
          description = "Advanced chaos fault"
          owner       = "chaos-team"
        }

        resources {
          limits = {
            cpu    = "250m"
            memory = "256Mi"
          }
          
          requests = {
            cpu    = "125m"
            memory = "128Mi"
          }
        }
      }
    }
  }

  # Variables
  variables {
    name        = "chaos_duration"
    value       = "<+input>"
    type        = "string"
    required    = true
    description = "Duration of chaos injection"
  }
  
  variables {
    name        = "chaos_interval"
    value       = "<+input>"
    type        = "string"
    required    = false
    description = "Interval between chaos injections"
  }
}

# ----------------------------------------------------------------------------
# Key Fields Reference
# ----------------------------------------------------------------------------
# Required:
#   - org_id, project_id (scope)
#   - hub_identity (hub where template is stored)
#   - identity (template identifier)
#   - name (template display name)
#   - category (e.g., ["Kubernetes"])
#   - infrastructures (e.g., ["KubernetesV2"])
#   - type (usually "Custom")
#   - permissions_required ("Basic", "Advanced", "Expert")
#   - spec.chaos (fault configuration)
#
# Optional:
#   - description
#   - tags
#   - links (name, url)
#   - variables (name, value, type, required, description)
#
# Spec.Chaos Fields:
#   - fault_name: Name of the fault (e.g., "byoc-injector")
#   - params: Fault parameters (name, value)
#   - kubernetes: Kubernetes pod specification
#     - image, command, args
#     - image_pull_policy
#     - resources (limits, requests)
#     - env (environment variables)
#     - node_selector, labels, annotations
#
# Runtime Inputs:
#   - Use "<+input>" for required runtime input
#   - Use "<+input>.default('value')" for optional with default
#
# Computed (read-only):
#   - fault_id, created_at, updated_at
#
# Import Format: org_id/project_id/hub_identity/identity
# Example: terraform import harness_chaos_fault_template.example \
#          my_org/my_project/my-hub/my-fault
# ----------------------------------------------------------------------------
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `hub_identity` (String) Hub identity reference
- `identity` (String) Unique identifier for the fault template (immutable)
- `name` (String) Name of the fault template

### Optional

- `api_version` (String) API version
- `category` (List of String) Fault categories
- `description` (String) Description of the fault template
- `infrastructures` (List of String) List of supported infrastructures
- `keywords` (List of String) Search keywords
- `kind` (String) Resource kind
- `links` (Block List) Related links (see [below for nested schema](#nestedblock--links))
- `org_id` (String) Organization identifier
- `permissions_required` (String) Required permissions for the fault
- `platforms` (List of String) Supported platforms
- `project_id` (String) Project identifier
- `revision` (String) Template revision (defaults to v1 if not specified)
- `spec` (Block List, Max: 1) Fault specification (see [below for nested schema](#nestedblock--spec))
- `tags` (List of String) Tags for the fault template
- `type` (String) Fault type
- `variables` (Block List) Template variables (see [below for nested schema](#nestedblock--variables))

### Read-Only

- `account_id` (String) Account identifier
- `created_at` (Number) Creation timestamp
- `created_by` (String) Creator user ID
- `hub_ref` (String) Hub reference (computed)
- `id` (String) The ID of this resource.
- `is_enterprise` (Boolean) Whether this is an enterprise-only template
- `is_removed` (Boolean) Soft delete flag
- `updated_at` (Number) Update timestamp
- `updated_by` (String) Updater user ID

<a id="nestedblock--links"></a>
### Nested Schema for `links`

Required:

- `name` (String) Link name
- `url` (String) Link URL


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- `chaos` (Block List, Max: 1) Chaos configuration (see [below for nested schema](#nestedblock--spec--chaos))
- `target` (Block List, Max: 1) Target configuration (see [below for nested schema](#nestedblock--spec--target))

<a id="nestedblock--spec--chaos"></a>
### Nested Schema for `spec.chaos`

Optional:

- `auth` (Block List, Max: 1) Authentication configuration (see [below for nested schema](#nestedblock--spec--chaos--auth))
- `fault_name` (String) Name of the fault
- `kubernetes` (Block List, Max: 1) Kubernetes-specific chaos configuration (see [below for nested schema](#nestedblock--spec--chaos--kubernetes))
- `params` (Block List) Fault parameters (see [below for nested schema](#nestedblock--spec--chaos--params))
- `status_check_timeouts` (Block List, Max: 1) Status check timeout configuration (see [below for nested schema](#nestedblock--spec--chaos--status_check_timeouts))
- `tls` (Block List, Max: 1) TLS configuration (see [below for nested schema](#nestedblock--spec--chaos--tls))

<a id="nestedblock--spec--chaos--auth"></a>
### Nested Schema for `spec.chaos.auth`

Optional:

- `aws` (Block List, Max: 1) AWS authentication (see [below for nested schema](#nestedblock--spec--chaos--auth--aws))
- `azure` (Block List, Max: 1) Azure authentication (see [below for nested schema](#nestedblock--spec--chaos--auth--azure))
- `gcp` (Block List, Max: 1) GCP authentication (see [below for nested schema](#nestedblock--spec--chaos--auth--gcp))
- `redis` (Block List, Max: 1) Redis authentication (see [below for nested schema](#nestedblock--spec--chaos--auth--redis))
- `ssh` (Block List, Max: 1) SSH authentication (see [below for nested schema](#nestedblock--spec--chaos--auth--ssh))
- `vmware` (Block List, Max: 1) VMware authentication (see [below for nested schema](#nestedblock--spec--chaos--auth--vmware))

<a id="nestedblock--spec--chaos--auth--aws"></a>
### Nested Schema for `spec.chaos.auth.aws`

Required:

- `access_key_id` (String) AWS access key ID
- `region` (String) AWS region
- `secret_access_key` (String, Sensitive) AWS secret access key


<a id="nestedblock--spec--chaos--auth--azure"></a>
### Nested Schema for `spec.chaos.auth.azure`

Required:

- `client_id` (String) Azure client ID
- `client_secret` (String, Sensitive) Azure client secret
- `subscription_id` (String) Azure subscription ID
- `tenant_id` (String) Azure tenant ID


<a id="nestedblock--spec--chaos--auth--gcp"></a>
### Nested Schema for `spec.chaos.auth.gcp`

Required:

- `project_id` (String) GCP project ID
- `service_account_key` (String, Sensitive) GCP service account key (JSON)


<a id="nestedblock--spec--chaos--auth--redis"></a>
### Nested Schema for `spec.chaos.auth.redis`

Required:

- `password` (String, Sensitive) Redis password

Optional:

- `username` (String) Redis username


<a id="nestedblock--spec--chaos--auth--ssh"></a>
### Nested Schema for `spec.chaos.auth.ssh`

Required:

- `username` (String) SSH username

Optional:

- `password` (String, Sensitive) SSH password
- `private_key` (String, Sensitive) SSH private key


<a id="nestedblock--spec--chaos--auth--vmware"></a>
### Nested Schema for `spec.chaos.auth.vmware`

Required:

- `password` (String, Sensitive) VMware password
- `username` (String) VMware username
- `vcenter_server` (String) vCenter server address



<a id="nestedblock--spec--chaos--kubernetes"></a>
### Nested Schema for `spec.chaos.kubernetes`

Optional:

- `annotations` (Map of String) Pod annotations
- `args` (List of String) Container arguments
- `command` (List of String) Container command
- `config_maps` (Block List) ConfigMap volumes (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--config_maps))
- `container_security_context` (Block List, Max: 1) Container security context (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--container_security_context))
- `env` (Block List) Environment variables (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--env))
- `host_file_volumes` (Block List) Host path volumes (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--host_file_volumes))
- `host_ipc` (Boolean) Use host IPC namespace
- `host_network` (Boolean) Use host network namespace
- `host_pid` (Boolean) Use host PID namespace
- `image` (String) Container image for chaos experiment
- `image_pull_policy` (String) Image pull policy
- `image_pull_secrets` (List of String) Image pull secrets
- `labels` (Map of String) Pod labels
- `node_selector` (Map of String) Node selector for pod scheduling
- `pod_security_context` (Block List, Max: 1) Pod security context (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--pod_security_context))
- `resources` (Block List, Max: 1) Resource requirements (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--resources))
- `secrets` (Block List) Secret volumes (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--secrets))
- `tolerations` (Block List) Pod tolerations (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--tolerations))

<a id="nestedblock--spec--chaos--kubernetes--config_maps"></a>
### Nested Schema for `spec.chaos.kubernetes.config_maps`

Required:

- `mount_path` (String) Mount path
- `name` (String) ConfigMap name

Optional:

- `mount_mode` (Number) Mount mode (0-3)


<a id="nestedblock--spec--chaos--kubernetes--container_security_context"></a>
### Nested Schema for `spec.chaos.kubernetes.container_security_context`

Optional:

- `allow_privilege_escalation` (Boolean) Allow privilege escalation
- `capabilities` (Block List, Max: 1) Linux capabilities (see [below for nested schema](#nestedblock--spec--chaos--kubernetes--container_security_context--capabilities))
- `privileged` (Boolean) Run container in privileged mode
- `read_only_root_filesystem` (Boolean) Mount root filesystem as read-only
- `run_as_group` (Number) Group ID to run as
- `run_as_non_root` (Boolean) Run as non-root user
- `run_as_user` (Number) User ID to run as

<a id="nestedblock--spec--chaos--kubernetes--container_security_context--capabilities"></a>
### Nested Schema for `spec.chaos.kubernetes.container_security_context.capabilities`

Optional:

- `add` (List of String) Capabilities to add
- `drop` (List of String) Capabilities to drop



<a id="nestedblock--spec--chaos--kubernetes--env"></a>
### Nested Schema for `spec.chaos.kubernetes.env`

Required:

- `name` (String) Environment variable name

Optional:

- `value` (String) Environment variable value


<a id="nestedblock--spec--chaos--kubernetes--host_file_volumes"></a>
### Nested Schema for `spec.chaos.kubernetes.host_file_volumes`

Required:

- `mount_path` (String) Mount path
- `name` (String) Volume name

Optional:

- `host_path` (String) Host path on the node
- `type` (String) Host path type (e.g., Directory, File, BlockDevice, CharDevice)


<a id="nestedblock--spec--chaos--kubernetes--pod_security_context"></a>
### Nested Schema for `spec.chaos.kubernetes.pod_security_context`

Optional:

- `fs_group` (Number) Filesystem group ID
- `run_as_group` (Number) Group ID to run as
- `run_as_non_root` (Boolean) Run as non-root user
- `run_as_user` (Number) User ID to run as


<a id="nestedblock--spec--chaos--kubernetes--resources"></a>
### Nested Schema for `spec.chaos.kubernetes.resources`

Optional:

- `limits` (Map of String) Resource limits
- `requests` (Map of String) Resource requests


<a id="nestedblock--spec--chaos--kubernetes--secrets"></a>
### Nested Schema for `spec.chaos.kubernetes.secrets`

Required:

- `mount_path` (String) Mount path
- `secret_name` (String) Secret name

Optional:

- `mount_mode` (Number) Mount mode (0-3)


<a id="nestedblock--spec--chaos--kubernetes--tolerations"></a>
### Nested Schema for `spec.chaos.kubernetes.tolerations`

Optional:

- `effect` (String) Toleration effect (NoSchedule, PreferNoSchedule, NoExecute)
- `key` (String) Toleration key
- `operator` (String) Toleration operator (Equal, Exists)
- `toleration_seconds` (Number) Toleration seconds
- `value` (String) Toleration value



<a id="nestedblock--spec--chaos--params"></a>
### Nested Schema for `spec.chaos.params`

Required:

- `name` (String) Parameter name
- `value` (String) Parameter value


<a id="nestedblock--spec--chaos--status_check_timeouts"></a>
### Nested Schema for `spec.chaos.status_check_timeouts`

Optional:

- `delay` (Number) Delay before status check (seconds)
- `timeout` (Number) Timeout for status check (seconds)


<a id="nestedblock--spec--chaos--tls"></a>
### Nested Schema for `spec.chaos.tls`

Optional:

- `ca_certificate` (String) CA certificate
- `client_certificate` (String) Client certificate
- `client_key` (String, Sensitive) Client key



<a id="nestedblock--spec--target"></a>
### Nested Schema for `spec.target`

Optional:

- `application` (Block List, Max: 1) Application target configuration (see [below for nested schema](#nestedblock--spec--target--application))
- `kubernetes` (Block List) Kubernetes target configuration (see [below for nested schema](#nestedblock--spec--target--kubernetes))

<a id="nestedblock--spec--target--application"></a>
### Nested Schema for `spec.target.application`

Optional:

- `app_kind` (String) Application kind
- `app_label` (String) Application label
- `app_ns` (String) Application namespace


<a id="nestedblock--spec--target--kubernetes"></a>
### Nested Schema for `spec.target.kubernetes`

Optional:

- `annotation_check` (String) Annotation check expression
- `annotations` (Map of String) Annotation selectors
- `kind` (String) Resource kind (e.g., deployment, pod)
- `labels` (Map of String) Label selectors
- `names` (List of String) Specific resource names
- `namespace` (String) Target namespace




<a id="nestedblock--variables"></a>
### Nested Schema for `variables`

Required:

- `name` (String) Variable name

Optional:

- `description` (String) Variable description
- `required` (Boolean) Whether the variable is required
- `type` (String) Variable type
- `value` (String) Variable value

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Example 1: Import Project-level Fault Template
# Format: org_id/project_id/hub_identity/template_identity
terraform import harness_chaos_fault_template.example \
  my_org/my_project/my-chaos-hub/pod-delete-fault

# Example 2: Import Org-level Fault Template
# Format: org_id/hub_identity/template_identity
terraform import harness_chaos_fault_template.org_example \
  my_org/org-chaos-hub/org-pod-delete

# Example 3: Import Account-level Fault Template
# Format: hub_identity/template_identity
terraform import harness_chaos_fault_template.account_example \
  account-chaos-hub/account-network-fault
```
