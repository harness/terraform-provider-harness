---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_platform_connector_aws_secret_manager Resource - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Resource for creating an AWS Secret Manager connector.
---

# harness_platform_connector_aws_secret_manager (Resource)

Resource for creating an AWS Secret Manager connector.

References:
- For details on how to onboard with Terraform, please see [Harness Terraform Provider Overview](https://developer.harness.io/docs/platform/terraform/harness-terraform-provider-overview/)
- To understand how to use AWS Secret Manager, please see [Documentation](https://developer.harness.io/docs/platform/Secrets/Secrets-Management/add-an-aws-secret-manager)
- To get more information about Api, please see [API documentation](https://apidocs.harness.io/tag/Connectors)

## Example Usage

```terraform
# Credentials inherit_from_delegate
resource "harness_platform_connector_aws_secret_manager" "test" {
  identifier  = "identifier"
  name        = "name"
  description = "test"
  tags        = ["foo:bar"]
  default     = true

  secret_name_prefix = "test"
  region             = "us-east-1"
  delegate_selectors = ["harness-delegate"]
  credentials {
    inherit_from_delegate = true
  }
}

# Credentials manual
resource "harness_platform_connector_aws_secret_manager" "test" {
  identifier  = "identifier"
  name        = "name"
  description = "test"
  tags        = ["foo:bar"]
  default     = true

  secret_name_prefix = "test"
  region             = "us-east-1"
  delegate_selectors = ["harness-delegate"]
  credentials {
    manual {
      secret_key_ref = "account.secret_id"
      access_key_ref = "account.secret_id"
    }
  }
}

# Credentials assume_role
resource "harness_platform_connector_aws_secret_manager" "test" {
  identifier  = "identifier"
  name        = "name"
  description = "test"
  tags        = ["foo:bar"]
  default     = true

  secret_name_prefix = "test"
  region             = "us-east-1"
  delegate_selectors = ["harness-delegate"]
  credentials {
    assume_role {
      role_arn    = "somerolearn"
      external_id = "externalid"
      duration    = 900
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `credentials` (Block List, Min: 1, Max: 1) Credentials to connect to AWS. (see [below for nested schema](#nestedblock--credentials))
- `identifier` (String) Unique identifier of the resource.
- `name` (String) Name of the resource.
- `region` (String) The AWS region where the AWS Secret Manager is.

### Optional

- `delegate_selectors` (Set of String) Tags to filter delegates for connection.
- `description` (String) Description of the resource.
- `org_id` (String) Unique identifier of the organization.
- `project_id` (String) Unique identifier of the project.
- `secret_name_prefix` (String) A prefix to be added to all secrets.
- `tags` (Set of String) Tags to associate with the resource.
- `default` (Boolean) Use as Default Secrets Manager.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--credentials"></a>
### Nested Schema for `credentials`

Optional:

- `assume_role` (Block List, Max: 1) Connect using STS assume role. (see [below for nested schema](#nestedblock--credentials--assume_role))
- `inherit_from_delegate` (Boolean) Inherit the credentials from from the delegate.
- `manual` (Block List, Max: 1) Specify the AWS key and secret used for authenticating. (see [below for nested schema](#nestedblock--credentials--manual))

<a id="nestedblock--credentials--assume_role"></a>
### Nested Schema for `credentials.assume_role`

Required:

- `duration` (Number) The duration, in seconds, of the role session. The value can range from 900 seconds (15 minutes) to 3600 seconds (1 hour). By default, the value is set to 3600 seconds. An expiration can also be specified in the client request body. The minimum value is 1 hour.
- `role_arn` (String) The ARN of the role to assume.

Optional:

- `external_id` (String) If the administrator of the account to which the role belongs provided you with an external ID, then enter that value.


<a id="nestedblock--credentials--manual"></a>
### Nested Schema for `credentials.manual`

Required:

- `access_key_ref` (String) The reference to the Harness secret containing the AWS access key. To reference a secret at the organization scope, prefix 'org' to the expression: org.{identifier}. To reference a secret at the account scope, prefix 'account` to the expression: account.{identifier}.
- `secret_key_ref` (String) The reference to the Harness secret containing the AWS secret key. To reference a secret at the organization scope, prefix 'org' to the expression: org.{identifier}. To reference a secret at the account scope, prefix 'account` to the expression: account.{identifier}.

## Import

Import is supported using the following syntax:

```shell
# Import account level aws secret manager connector 
terraform import harness_platform_connector_aws_secret_manager.example <connector_id>

# Import org level aws secret manager connector 
terraform import harness_platform_connector_aws_secret_manager.example <ord_id>/<connector_id>

# Import project level aws secret manager connector 
terraform import harness_platform_connector_aws_secret_manager.example <org_id>/<project_id>/<connector_id>
```